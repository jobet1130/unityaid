{% load static wagtailimages_tags %}
{% image self.image width-800 as project_image %}
<div class="card shadow-sm h-100 project-card{% if self.link %} project-card-clickable{% endif %}" {% if self.link %}data-link="{{ self.link }}"{% endif %}>
    <div class="position-relative overflow-hidden project-card-image-container">
        <img src="{{ project_image.url }}" alt="{{ self.title }}" class="card-img-top w-100 h-100 project-card-image" />
        <span class="badge rounded-pill position-absolute top-0 end-0 m-3 project-status-{{ self.status|lower }}">
            {{ self.status }}
        </span>
    </div>
    <div class="card-body d-flex flex-column">
        <div class="d-flex align-items-center text-secondary mb-2 small">
            <i class="bi bi-geo-alt-fill me-1"></i>
            <span>{{ self.location }}</span>
        </div>
        <h5 class="card-title mb-3 fw-bold">{{ self.title }}</h5>
        <p class="card-text text-secondary mb-4 flex-grow-1 project-card-description">{{ self.description }}</p>
        {% if self.link %}
        <div class="d-flex align-items-center project-card-link">
            <span class="me-2">Learn more</span>
            <i class="bi bi-arrow-right"></i>
        </div>
        {% endif %}
    </div>
</div>

